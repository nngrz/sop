#!/bin/bash

# Example Usage:

# When n = 2:
# bash: ./script1 a1 a2                                                 
# Enter the value of n: 2
# The 2-nd parameter exists and the value is 'a2'.

# When n = 3 (exist)
# bash: a1 a2 a3
# Enter the value of n: 3
# The 2-nd parameter exists and the value is 'a2'.
# The 3-th parameter exists and the value is 'a3'.

# When n = 3 (doesn't exist)
# bash: a1 a2   
# Enter the value of n: 3
# The 2-nd parameter exists and the value is 'a2'.
# The 3-th parameter does not exist (only 2 parameters provided).


# Check if at least 2 parameters were provided
if [ "$#" -lt 2 ]; then
    echo "Error: The 2-nd parameter does not exist. At least 2 parameters are required."
    exit 1
fi

# Ask user for n
read -p "Enter the value of n: " n

# If both n and number of arguments equal to 2, print only the second parameter and exit
if test "$n" -eq 2; then
    echo "The 2-nd parameter exists and the value is '$2'."
    exit 0
fi

# If n != number of arguments
# The number of arguments is greater or equal n, print the second and n-th parameter
if test "$#" -ge "$n"; then
    echo "The 2-nd parameter exists and the value is '$2'."
    echo "The ${n}-th parameter exists and the value is '${!n}'."
# The number of arguments is lower than n, print the second parameter and the error
else
    echo "The 2-nd parameter exists and the value is '$2'."
    echo "The ${n}-th parameter does not exist (only $# parameters provided)."
    exit 1
fi
